
fupdate​=ftim_clk​​/{(PSC+1)×(ARR+1)}

STM32H7 的定时器（比如 TIM1–TIM8、TIM12–TIM17）时钟结构如下：

| 定时器挂载总线  | 定时器编号                   | 时钟来源               | 是否有 x2 机制 |
| -------- | ----------------------- | ------------------ | --------- |
| APB1（低速） | TIM2、3、4、5、6、7、12、13、14 | `APB1 Timer Clock` | ✅ 有（x2）   |
| APB2（高速） | TIM1、TIM8、TIM15、16、17   | `APB2 Timer Clock` | ✅ 有（x2）   |