**第一步：复制并重命名你的工作目录** 找到你实验七中 `fabcar` 的智能合约源码目录，把它整个复制一份，并重命名为你项目的名字，比如 `certichain`。

- `~/hyperledger/fabric/scripts/fabric-samples/chaincode/fabcar/go` -> `~/hyperledger/fabric/scripts/fabric-samples/chaincode/certichain/go`
    

**第二步：修改智能合约 (核心工作)** 打开新的 `certichain/go` 目录下的 `.go` 文件，开始修改。

1. **修改数据结构 (Struct)**： `fabcar` 合约的核心是 `Car` 结构体。你的项目核心是 `Certificate` 结构体。你只需要把它替换掉。
    
    **对照修改：**
    
    - 原来的 `fabcar.go` 里是这样 ：
        
        Go
        
        ```
        type Car struct {
            CarNumber string `json:"carnumber"`
            Make      string `json:"make"`
            Model     string `json:"model"`
            Colour    string `json:"colour"`
            Owner     string `json:"owner"`
        }
        ```
        
    - **你需要改成这样：**
        
        Go
        
        ```
        type Certificate struct {
            ID                 string `json:"id"`                // 证书唯一ID
            StudentName        string `json:"studentName"`       // 学生姓名
            StudentID          string `json:"studentId"`         // 学号
            IssuingInstitution string `json:"issuingInstitution"`// 颁发机构
            Degree             string `json:"degree"`            // 学位/证书名称
            IssueDate          string `json:"issueDate"`         // 颁发日期
        }
        ```
        
2. **修改“写入数据”的函数**：
    
    `fabcar` 合约里有 `CreateCar` 函数 。你需要模仿它，创建一个
    
    `CreateCertificate` 函数。逻辑几乎一模一样：接收参数 -> 创建一个 `Certificate` 对象 -> 序列化成 JSON -> 调用 `PutState` 写入账本。
    
3. **修改“读取数据”的函数**：
    
    `fabcar` 合约里有 `QueryCar` 和
    
    `queryAllCars` 函数。你也需要模仿它，创建一个
    
    `QueryCertificate` 函数。逻辑也几乎一样：接收证书ID -> 调用 `GetState` 从账本读取数据 -> 返回结果。
    

**第三步：部署和测试你的新合约** 这部分你完全可以

**照搬实验七的流程** 。

1. **部署**：同样使用 `peer lifecycle chaincode` 命令进行“打包-安装-批准-提交” 。只是现在打包的路径和链码的名字从
    
    `fabcar` 变成了 `certichain`。
    
2. **命令行测试**：在部署成功后，先不要急着写后端。用 `peer chaincode invoke` 命令直接在终端里调用你的 `CreateCertificate` 和 `QueryCertificate` 函数 ，就像你当时调用
    
    `initLedger` 和 `queryAllCars` 一样 。只要这一步能成功调通，说明你的智能合约就没问题了。